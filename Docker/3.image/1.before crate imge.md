### **üî• Dockerfile Me Sirf `FROM`, `WORKDIR`, `COPY`, `RUN`, aur `CMD` Hi Hote Hain?**

üöÄ **Nahi!** Tum **aur bhi bahut saare commands** likh sakte ho jo Dockerfile ko aur powerful banate hain.  
Dockerfile me **multiple instructions** hote hain jo image ko customize karne ke liye use hote hain.

---

## **‚úÖ Dockerfile Me Commonly Used Instructions**

| **Instruction** | **Use Kya Hai?**                                                 |
| --------------- | ---------------------------------------------------------------- |
| `FROM`          | **Base image define karta hai**                                  |
| `WORKDIR`       | **Default working directory set karta hai**                      |
| `COPY`          | **Local files ko container me copy karta hai**                   |
| `ADD`           | **File copy karta hai (aur ZIP extract bhi kar sakta hai)**      |
| `RUN`           | **Container banate waqt command execute karta hai**              |
| `CMD`           | **Container start hone pe default command run karta hai**        |
| `ENTRYPOINT`    | **CMD ki tarah hi, par immutable hota hai (override nahi hota)** |
| `EXPOSE`        | **Container ke andar ka port expose karta hai**                  |
| `ENV`           | **Environment variables set karta hai**                          |
| `ARG`           | **Build-time variables set karta hai**                           |
| `VOLUME`        | **Container me persistent storage mount karta hai**              |
| `LABEL`         | **Metadata add karta hai (author, version, etc.)**               |
| `HEALTHCHECK`   | **Container ki health check karta hai**                          |
| `USER`          | **Container ke andar ka default user set karta hai**             | 

---

## **‚úÖ Example: Full Dockerfile Using All Instructions**

```dockerfile
# 1Ô∏è‚É£ Base Image
FROM node:18 

# 2Ô∏è‚É£ Maintainer info
LABEL maintainer="Your Name <your@email.com>"

# 3Ô∏è‚É£ Set Environment Variable
ENV NODE_ENV=production

# 4Ô∏è‚É£ Set Working Directory
WORKDIR /app

# 5Ô∏è‚É£ Copy Files
COPY package.json package-lock.json ./
COPY src ./src

# 6Ô∏è‚É£ Install Dependencies
RUN npm install

# 7Ô∏è‚É£ Expose Port
EXPOSE 3000

# 8Ô∏è‚É£ Define Volumes
VOLUME /app/logs

# 9Ô∏è‚É£ Default Command
CMD ["node", "src/app.js"]

# 1Ô∏è‚É£0Ô∏è‚É£ Health Check
HEALTHCHECK --interval=30s --timeout=10s --retries=3 CMD curl -f http://localhost:3000 || exit 1
```

‚úî **Isme sab kuch hai jo ek **professional level Dockerfile\*\* me hona chahiye.

---

## **‚úÖ Special Instructions ka Explanation**

### **1Ô∏è‚É£ `ENTRYPOINT` vs `CMD`**

| **Feature**                | **CMD**                             | **ENTRYPOINT**                                                |
| -------------------------- | ----------------------------------- | ------------------------------------------------------------- |
| **Default Command**        | Haan                                | Haan                                                          |
| **Override Ho Sakta Hai?** | Haan (`docker run image_name bash`) | Nahi (`docker run image_name bash` bhi ENTRYPOINT use karega) |

üìå **Example:**

```dockerfile
CMD ["npm", "start"]
ENTRYPOINT ["node"]
```

- **CMD:** `docker run my-app` **‚Üí `npm start` chalega**
- **ENTRYPOINT:** `docker run my-app app.js` **‚Üí `node app.js` chalega**

---

### **2Ô∏è‚É£ `ENV` vs `ARG`**

| **Feature**                      | **ENV**                      | **ARG**                          |
| -------------------------------- | ---------------------------- | -------------------------------- |
| **Scope**                        | Runtime (Container ke andar) | Build-time (Dockerfile ke andar) |
| **Use Case**                     | App config, API keys         | Docker build customization       |
| **Accessible Inside Container?** | ‚úÖ Haan                      | ‚ùå Nahi                          |

üìå **Example:**

```dockerfile
ARG APP_VERSION=1.0
ENV NODE_ENV=production
```

- **`ARG` ka use sirf `docker build` ke time hota hai (`--build-arg APP_VERSION=2.0`)**
- **`ENV` container ke andar bhi access ho sakta hai (`process.env.NODE_ENV`)**

---

### **3Ô∏è‚É£ `EXPOSE` vs `-p` (Port Binding)**

| **Feature** | **EXPOSE**                         | **-p (Port Mapping)**                 |
| ----------- | ---------------------------------- | ------------------------------------- |
| **Purpose** | Container ka port expose karta hai | Host-to-container port bind karta hai |
| **Example** | `EXPOSE 3000`                      | `docker run -p 8080:3000 image`       |

üìå **EXPOSE ka sirf documentation value hai, bina `-p` ke port open nahi hota!**

---

## **üéØ Final Summary**

| **Instruction** | **Use Kya Hai?**                                      |
| --------------- | ----------------------------------------------------- |
| `FROM`          | **Base image select karta hai**                       |
| `WORKDIR`       | **Working directory set karta hai**                   |
| `COPY`          | **Local files ko container me copy karta hai**        |
| `ADD`           | **Files copy + ZIP extract karta hai**                |
| `RUN`           | **Image build ke time command execute karta hai**     |
| `CMD`           | **Container start hone pe command execute karta hai** |
| `ENTRYPOINT`    | **CMD ki tarah, par override nahi hota**              |
| `EXPOSE`        | **Container ka port expose karta hai**                |
| `ENV`           | **Environment variables set karta hai**               |
| `ARG`           | **Build-time variables set karta hai**                |
| `VOLUME`        | **Persistent storage ke liye use hota hai**           |
| `HEALTHCHECK`   | **Container ki health check karta hai**               |

---

üì¢ **Ab samajh aaya? Ya koi aur doubt hai?** üòéüî•
