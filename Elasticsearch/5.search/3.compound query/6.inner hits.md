**Elasticsearch Inner Hits - Complete Documentation (Hinglish)**

## **1ï¸âƒ£ Inner Hits Kya Hai?**

âœ… **Inner Hits sirf nested ya parent-child queries ke saath kaam karta hai.**
âœ… **Query ka part nahi, balki sirf extra data extract karne ke liye hota hai.**
âœ… **Performance improve karta hai kyunki sirf relevant data milta hai.**
âœ… **Parent document ke bina bhi sirf nested objects access karne ka tarika hai.**

### **ðŸ“Œ Inner Hits Ka Fayda?**

âœ… **Sirf matching nested objects ko extract karna** (Poora parent document lane ki zaroorat nahi hoti).
âœ… **Better readability & performance** kyunki sirf relevant data milta hai.
âœ… **Parent-child relationship me useful** hota hai.

---

## **2ï¸âƒ£ Inner Hits Ka Basic Example (Nested Query ke Saath)**

### **ðŸ”¹ Sample Index & Document**

```json
PUT job_portal
{
  "mappings": {
    "properties": {
      "job_title": { "type": "text" },
      "applications": {
        "type": "nested",
        "properties": {
          "candidate_name": { "type": "text" },
          "experience": { "type": "integer" },
          "skills": { "type": "keyword" }
        }
      }
    }
  }
}

POST job_portal/_doc/1
{
  "job_title": "Software Engineer",
  "applications": [
    { "candidate_name": "John Doe", "experience": 6, "skills": ["Java", "Spring Boot"] },
    { "candidate_name": "Jane Smith", "experience": 4, "skills": ["Python", "Django"] }
  ]
}
```

---

### **ðŸ”¹ Query with Inner Hits**

```json
GET job_portal/_search
{
  "query": {
    "nested": {
      "path": "applications",
      "query": {
        "bool": {
          "must": [
            { "match": { "applications.candidate_name": "John Doe" } },
            { "range": { "applications.experience": { "gte": 5 } } }
          ]
        }
      },
      "inner_hits": {
        "size": 10
      }
    }
  }
}
```

---

## **3ï¸âƒ£ Inner Hits Ka Output**

```json
{
  "hits": {
    "hits": [
      {
        "_id": "1",
        "_source": {
          "job_title": "Software Engineer"
        },
        "inner_hits": {
          "applications": {
            "hits": {
              "hits": [
                {
                  "_source": {
                    "candidate_name": "John Doe",
                    "experience": 6,
                    "skills": ["Java", "Spring Boot"]
                  }
                }
              ]
            }
          }
        }
      }
    ]
  }
}
```

**ðŸ”¹ Key Points:**
âœ” **Poora job document nahi aaya, sirf matching nested object return hua**
âœ” **John Doe ka sirf wahi application mila jisme experience >= 5 tha**

---
